<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>智慧式用电安全监管与电能管理平台</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<!-- 引入 Bootstrap -->
		<link href="css/bootstrap.min.css" rel="stylesheet">
		<!-- HTML5 Shiv 和 Respond.js 用于让 IE8 支持 HTML5元素和媒体查询 -->
		<!-- 注意： 如果通过 file://  引入 Respond.js 文件，则该文件无法起效果 -->
		<!--[if lt IE 9]>
         <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
         <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
      	<![endif]-->
		<link rel="stylesheet" href="css/animate.css" />
		<link rel="stylesheet" href="css/main.css" />
		<link rel="stylesheet" href="css/allData.css" />
		<style>
			/*面包屑以及日期选择部分*/
			/*echart*/
			
			.table,
			.echartsBox {
				padding: 10px;
				background-color: #f8f8f8;
			}
			
			.echartsBox {
				padding: 10px 20px 0 20px;
			}
			
			.tableList,
			.barChart,
			.pieChart {
				padding: 10px 15px;
				font-size: 14px;
				background-color: #fff;
			}
			
			.barChart {
				width: 49.5%;
				height: 300px;
				margin-right: 0.5%;
			}
			
			.pieChart {
				width: 50%;
				height: 300px;
				margin-right: 0;
			}
			
			.table {
				margin-bottom: 0;
			}
			
			.table thead tr th,
			.table tbody tr td {
				text-align: center;
				width: 20%;
			}
		</style>
	</head>

	<body>
		<!--报警预警详情页面-->
		<div class="allDataHome">
			<!--响应式导航-->
			<div class="navbar navbar-default">
				<div class="navbar-header">
					<div class="navLogo">
						<div class="img"><img src="images/logo.png" alt="" /></div>
						<div class="titleLogo">智慧式用电安全监管与电能管理平台</div>
					</div>
					<button class="navbar-toggle" data-toggle="collapse" data-target="#shownav">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
				</div>
				<ul id="shownav" class="nav navbar-nav collapse navbar-collapse">
					<li>
						<a class="dropdown" data-toggle="dropdown" href="">安云智联<span class="caret"></span></a>
						<ul class="dropdown-menu">
							<li>
								<a href="./index.html" class="mainFontColor">管理平台</a>
							</li>
							<li>
								<a href="./record.html" class="mainFontColor">操作日志</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="/login.html" class="mainFontColor">退出</a>
					</li>
				</ul>
			</div>
			<div class="contentMain">
				<div class="rightContentTop clearfix">
					<!--右侧选择条件-->
					<div class="rightNav fl clearfix">
						<ul>
							<li class="fl">
								<a href="./index.html" class="active">首页</a>
								<span class="grayColor">&nbsp;/&nbsp;</span>
							</li>
							<li class="fl">
								<a href="#">报警预警详情</a>
							</li>
						</ul>
					</div>
					<div class="rightSelect fr clearfix">
						<div class="selectStyle fl clearfix">
							<span class="spanTitle fl">报警预警类型：</span>
							<select id="selectType" name="company" class="fl">
								<option value="1">短路报警</option>
								<option value="2">漏电报警</option>
								<option value="3">过载报警</option>
								<option value="4">过压报警</option>
								<option value="5">欠压报警</option>
							</select>
						</div>
						<!--右侧年月日单选择-->
						<div class="radioBox fl">
							<input name="date" value="day" type="radio" lab="日" />
							<input name="date" value="month" type="radio" lab="月" />
							<input name="date" value="year" type="radio" lab="年" />
						</div>
						<div class="inputLayout fl clearfix">
							<div class="spanTitle1 fl">日期：</div>
							<div class="inputBox fl">
								<input type="text" class="demo-input" placeholder="请选择日期" id="inputDay" @click="changeDay">
								<input type="text" class="demo-input" placeholder="请选择月份" id="inputMonth">
								<input type="text" class="demo-input" placeholder="请选择年份" id="inputYear">
							</div>
						</div>
					</div>
				</div>
				<!--echart-->
				<div class="echartsBox clearfix">
					<div class="barChart fl">
						<div id="barEchart" style="width:100%;height:280px;"></div>
					</div>
					<div class="pieChart fl">
						<div id="pieEchart" style="width:100%;height:280px;"></div>
					</div>
				</div>
				<div class="tableBody">
					<table class="table table-bordered " style="margin: 8px 0 0 0;table-layout:fixed">
						<thead>
							<tr>
								<th>项目</th>
								<th>地点</th>
								<th>线路</th>
								<th>报警类型</th>
								<th>报警时间</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td class="text-nowrap">浙江安云智联演示箱</td>
								<td>1栋1单元01ACC</td>
								<td>线路2</td>
								<td>欠压预警</td>
								<td>2019-07-19 17:34:24</td>
							</tr>
							<tr>
								<td class="text-nowrap">浙江安云智联演示箱</td>
								<td>1栋1单元01ACC</td>
								<td>线路2</td>
								<td>欠压预警</td>
								<td>2019-07-19 17:34:24</td>
							</tr>
							<tr>
								<td class="text-nowrap">浙江安云智联演示箱</td>
								<td>1栋1单元01ACC</td>
								<td>线路2</td>
								<td>欠压预警</td>
								<td>2019-07-19 17:34:24</td>
							</tr>
							<tr>
								<td class="text-nowrap">浙江安云智联演示箱</td>
								<td>1栋1单元01ACC</td>
								<td>线路2</td>
								<td>欠压预警</td>
								<td>2019-07-19 17:34:24</td>
							</tr>
							<tr>
								<td class="text-nowrap">浙江安云智联演示箱</td>
								<td>1栋1单元01ACC</td>
								<td>线路2</td>
								<td>欠压预警</td>
								<td>2019-07-19 17:34:24</td>
							</tr>
						</tbody>
						<tbody class="nodataTable">
							<tr>
								<td colspan="4">暂无数据</td>
							</tr>
						</tbody>
					</table>
					<nav aria-label="Page navigation " class="clearfix">
						<ul class="pagination" style="margin: 8px 0 0 0;float:right">
							<li>
								<a href="#" aria-label="Previous">
									<span aria-hidden="true">&laquo;</span>
								</a>
							</li>
							<li>
								<a href="#">1</a>
							</li>
							<li>
								<a href="#">2</a>
							</li>
							<li>
								<a href="#">3</a>
							</li>
							<li>
								<a href="#">4</a>
							</li>
							<li>
								<a href="#">5</a>
							</li>
							<li>
								<a href="#" aria-label="Next">
									<span aria-hidden="true">&raquo;</span>
								</a>
							</li>
						</ul>
					</nav>
				</div>
			</div>
		</div>
		<script src="js/jquery-3.4.1.min.js"></script>
		<!-- 包括所有已编译的插件 -->
		<script src="js/bootstrap.min.js"></script>
		<!--引入echart-->
		<script src="js/echarts.js"></script>
		<!--日历-->
		<script src="laydate/laydate.js"></script>
		<!--radio美化-->
		<script type="text/javascript" src="js/jquery.richUI.min.js"></script>
		<script type="text/javascript" src="js/jquery.browser.min.js"></script>
		<script>
			//获取.contentMain的高度
			var winHeight = $(window).height();
			var height = winHeight - 60;
			$('.contentMain').height(height);
			//复选框单选框美化
			$("input[name='date']").richradio({
				selected: "day" // 默认选中天
			});
			$("#selectType").richselect();
			//点击日则显示日的日历，点击月则显示月的日历
			$("input[name='date']").click(function() {
				if($(this).attr("value") == 'month') {
					$('#inputMonth').show();
					$('#inputDay').hide();
					$('#inputYear').hide();
					laydate.render({
						elem: '#inputMonth',
						type: 'month',
						range: false
					});
				}
				if($(this).attr("value") == 'day') {
					$('#inputMonth').hide();
					$('#inputDay').show();
					$('#inputYear').hide();
					laydate.render({
						elem: '#inputDay',
						range: false
					});
				}
				if($(this).attr('value') == 'year') {
					$('#inputYear').show();
					$('#inputDay').hide();
					$('#inputMonth').hide();
					laydate.render({
						elem: '#inputYear',
						type: 'month'
					});
				}
			})
			//默认显示当天日期
			var now = new Date();
			var time = now.getFullYear() + "-" + ((now.getMonth() + 1) < 10 ? "0" : "") + (now.getMonth() + 1) + "-" + (now.getDate() < 10 ? "0" : "") + now.getDate();
			$('#inputDay').val(time);
			$(function changeDay() {
				$('#inputDay').show();
				laydate.render({
					elem: '#inputDay',
					range: false
				});
			})
			//echart
			var barEchart = echarts.init(document.getElementById('barEchart'));
			var pieEchart = echarts.init(document.getElementById('pieEchart'));
			var option = {
				title: {
					text: '24小时报警预警数量'
				},
				color: ["#CB3F40"],
				tooltip: {
					trigger: 'item',
					formatter: "{b}: {c} ({d}%)"
				},
				grid: {
					left: 30,
					right: 10,
					width: '90%',
					height: '70%'
				},
				xAxis: {
					data: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23],
					axisLine: {
						lineStyle: {
							color: '#797979'
						}
					},
					'axisLabel': {
						'interval': 0,
						textStyle: {
							color: 'rgb(0,0,0)'
						}
					}
				},
				yAxis: {
					axisLine: {
						lineStyle: {
							color: '#797979'
						}
					},
					splitLine: {
						lineStyle: {
							color: '#dcdcdc'
						}
					},
					//                    name:this.yAxisName,
					nameGap: 8
				},
				series: [{
					name: '报警预警数量',
					type: 'bar',
					barWidth: 15,
					data: [11, 2, 3, 4, 5, 6, 7, 4, 9, 10, 21, 22, 14, 15, 32, 15, 26, 14, 16, 19, 32, 16, 13, 14]
				}]
			};
			var optionWarning = {
				title: {
					text: '24小时报警预警数量占比'
				},
				legend: {
					icon: 'stack',
					data: ['短路报警', '漏电报警', '过载报警', '过压报警', '欠压报警', '温度报警', '浪涌报警', '打火报警', '三相报警'],
					top: 35,
					right: 50,
					orient: 'vertical',
					itemGap: 8,
					itemWidth: 20,
					textStyle: {
						color: '#666',
						fontWeight: 'normal',
						fontSize: 12
					}
				},
				color: ["#CB3F40", "#F26665", "#F2A5A6", "#B92EE3", "#C077CD", "#D19EDC", "#E79C28", "#F0C647", "#FEE7A2"],
				tooltip: {
					trigger: 'item',
					formatter: "{b}: {c} ({d}%)"
				},
				series: {
					type: 'pie',
					radius: ['76%', '48%'], // 控制大小
					center: ['35%', '56%'], // 控制距离盒子左边上面的距离
					label: {
						normal: {
							show: false
						},
						emphasis: {
							show: false,
							textStyle: {
								fontSize: '14',
								color: '#666'
							}
						}
					},
					labelLine: {
						normal: {
							show: false
						}
					},
					data: [{
							name: '短路报警',
							value: 20
						},
						{
							name: '漏电报警',
							value: 1
						},
						{
							name: '过载报警',
							value: 150
						},
						{
							name: '过压报警',
							value: 10
						},
						{
							name: '欠压报警',
							value: 3
						},
						{
							name: '温度报警',
							value: 360
						},
						{
							name: '浪涌报警',
							value: 10
						},
						{
							name: '打火报警',
							value: 360
						},
						{
							name: '三相报警',
							value: 10
						}
					]
				}
			};
			barEchart.setOption(option);
			pieEchart.setOption(optionWarning);
			window.addEventListener("resize", () => {
				this.barEchart.resize();
				this.pieEchart.resize();
			});
		</script>
	</body>

</html>